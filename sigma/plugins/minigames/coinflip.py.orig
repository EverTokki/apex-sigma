import random
import discord

async def coinflip(cmd, message, args):
    cmd.db.add_stats('CoinFlipCount')
<<<<<<< HEAD
    number = random.randint(0, 1)
    
    if number == 1: result = 'heads'
    else:           result = 'tails'

    urls = {
        'heads': 'http://i.imgur.com/KpiOD0g.png',
        'tails': 'http://i.imgur.com/JAPYEsl.png'
=======
    result = random.choice(['heads', 'tails'])
    urls = {
        'heads': 'https://i.imgur.com/UbsozEv.png',
        'tails': 'https://i.imgur.com/TUraKTb.png'
>>>>>>> db6d937b5346ae4d2a6f03af672a779597611572
    }

    embed = discord.Embed(color=0x1abc9c)
    
    if args:
        choice = args[0]
        if choice.lower().startswith('t') or choice.lower().startswith('h'):
            if choice.lower().startswith('t'):
                choice = 'tails'
            else:
                choice = 'heads'
            if result == choice.lower():
                out = ':ballot_box_with_check: Nice guess!'
            else:
                out = ':regional_indicator_x: Better luck next time!'
            embed = discord.Embed(color=0x1abc9c, title=out)
        else:
            embed.set_footer(text='If you\'re going to guess, guess with Heads or Tails.')
    
    embed.set_image(url=urls[result])
    await message.channel.send(None, embed=embed)
